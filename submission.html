<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>View Submission</title>
    <style>
    
        body {
            background: url('src/black.jpg') no-repeat center center fixed;
            background-size: cover;
        }
    </style>
</head>
<body class="text-white min-h-screen font-sans">

   <a href="index.html" 
   class="inline-flex items-center gap-2 text-[14px] font-bold tracking-widest text-zinc-400 hover:text-white transition uppercase mb-8">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256">
        <path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path>
    </svg>
    Back to Home
</a>

    <main class="max-w-6xl mx-auto mt-20 px-6 pb-20">
        <div class="text-center mb-12">
            <h1 class="text-4xl font-bold tracking-tight uppercase mb-2">Submissions</h1>
            <p class="text-zinc-500 text-sm tracking-widest uppercase">Inbox Management</p>
        </div>

        <div class="overflow-hidden rounded-sm border border-white/10 bg-black/40 backdrop-blur-lg">
            <table class="w-full text-left border-collapse">
                <thead>
                    <tr class="border-b border-white/10 bg-white/5">
                        <th class="p-5 text-[10px] uppercase tracking-[0.2em] text-zinc-400 font-bold">Date</th>
                        <th class="p-5 text-[10px] uppercase tracking-[0.2em] text-zinc-400 font-bold">Name</th>
                        <th class="p-5 text-[10px] uppercase tracking-[0.2em] text-zinc-400 font-bold">Email</th>
                        <th class="p-5 text-[10px] uppercase tracking-[0.2em] text-zinc-400 font-bold">Message</th>
                    </tr>
                </thead>
                <tbody id="tableBody" class="divide-y divide-white/5">
                    </tbody>
            </table>
        </div>

        <div class="mt-8 flex justify-between items-center"> 
            <button onclick="clearSubmissions()" class="text-[10px] font-bold tracking-widest text-red-500 hover:text-red-400 transition uppercase">
                Clear All Logs
            </button>
        </div>
    </main>

    <script>
        function loadSubmissions() {
            const tableBody = document.getElementById('tableBody');
            const submissions = JSON.parse(localStorage.getItem('allSubmissions')) || [];

            if (submissions.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="4" class="p-20 text-center text-zinc-600 italic tracking-wide">
                            No messages in the database.
                        </td>
                    </tr>`;
                return;
            }

            tableBody.innerHTML = submissions.map(sub => `
                <tr class="hover:bg-white/5 transition-colors group">
                    <td class="p-5 text-xs text-zinc-500 font-mono">${sub.date}</td>
                    <td class="p-5 text-sm font-semibold text-zinc-200">${sub.name}</td>
                    <td class="p-5 text-sm text-zinc-400">${sub.email}</td>
                    <td class="p-5 text-sm text-zinc-400 leading-relaxed max-w-xs">${sub.message}</td>
                </tr>
            `).reverse().join(''); 
        }

        function clearSubmissions() {
            if(confirm("Permanently delete all submission records?")) {
                localStorage.removeItem('allSubmissions');
                loadSubmissions();
            }
        }

        window.onload = loadSubmissions;
    </script>
</body>
</html>